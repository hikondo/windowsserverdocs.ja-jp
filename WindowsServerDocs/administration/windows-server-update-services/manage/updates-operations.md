---
title: 更新操作
description: Windows Server Update Service (WSUS) トピック-承認プロセスを含む更新プログラムの管理方法
ms.topic: article
ms.assetid: 4cb7ff54-3014-4e91-842a-a7b831ea59ff
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 32e6aa39dec354aeb7b3277d68c3bf07ef8a0161
ms.sourcegitcommit: 53d526bfeddb89d28af44210a23ba417f6ce0ecf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/06/2020
ms.locfileid: "87896809"
---
# <a name="updates-operations"></a>更新操作

>適用先:Windows Server (半期チャネル)、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

更新プログラムが WSUS サーバーに同期された後は、サーバーのクライアントコンピューターに関連して自動的にスキャンされます。 ただし、ネットワーク上のコンピューターに展開する前に、更新プログラムを承認する必要があります。 更新プログラムを承認すると、基本的に WSUS によって実行される操作が WSUS に指示されます (選択した項目は、新しい更新プログラムの**インストール**または**拒否**されます)。 [**すべてのコンピューター** ] グループまたはサブグループの更新プログラムを承認できます。 更新プログラムを承認しない場合、承認ステータスは承認**されず**、WSUS サーバーは、更新プログラムが必要かどうかをクライアントが評価できるようにします。

WSUS サーバーがレプリカモードで実行されている場合、WSUS サーバーで更新プログラムを承認することはできません。 レプリカモードの詳細については、「 [WSUS レプリカモードの実行](running-wsus-replica-mode.md)」を参照してください。

## <a name="approving-updates"></a>更新プログラムの承認
WSUS ネットワーク内のすべてのコンピューター、または別のコンピューターグループについて、更新プログラムのインストールを承認することができます。 更新プログラムを承認した後、次の1つ (または複数) を実行できます。

-   子グループ (存在する場合) にこの承認を適用します。

-   自動インストールの期限を設定します。 このオプションを選択する場合、更新プログラムをインストールする特定の時刻と日付を設定して、クライアントコンピューターの設定を上書きします。 また、更新プログラムを直ちに承認する場合 (クライアントコンピューターが次に WSUS サーバーに接続するときにインストールされるように)、期限までの日付を指定することもできます。

-   更新プログラムが削除をサポートしている場合は、インストール済みの更新プログラムを削除します。

覚えておく必要がある重要な考慮事項が2つあります。

-   まず、ユーザー入力が必要な場合 (更新プログラムに関連する設定を指定する場合など)、更新プログラムの自動インストールの期限を設定することはできません。 更新プログラムがユーザーの入力を必要とするかどうかを判断するには、[**更新プログラム**] ページに表示される更新プログラムの [更新プログラムのプロパティ] で、[要求された**ユーザーの入力**] フィールドを確認します。 また、[**更新プログラムの承認**] ボックスで、選択した**更新プログラムにユーザー入力が必要で、インストールの期限がサポートされていない**メッセージを確認します。

-   WSUS サーバーコンポーネントの更新プログラムがある場合は、WSUS の更新プログラムが承認されるまで、クライアントシステムに対する他の更新プログラムを承認することはできません。 [更新プログラムの承認] ダイアログには、承認されていない WSUS 更新プログラムがあることを示す警告メッセージが表示されます。 この更新プログラムを承認する前に、WSUS の更新プログラムを承認する必要があります。 この場合は、[WSUS 更新プログラム] ノードをクリックし、そのビュー内のすべての更新プログラムが承認されていることを確認してから、全般更新プログラムに戻ります。

#### <a name="to-approve-updates"></a>更新プログラムを承認するには

1.  WSUS 管理コンソールで、[**更新プログラム**] をクリックし、[**すべての更新プログラム**] をクリックします。

2.  更新プログラムの一覧で、承認する更新プログラムを選択して右クリック (または操作ウィンドウにジャンプ) し、[更新プログラムの承認] ダイアログで、更新プログラムを承認するコンピューターグループを選択し、その横にある矢印をクリックします。

3.  [**インストールの承認済み**] を選択し、[**承認**] をクリックします。

4.  [**承認の進行状況**] ウィンドウに、承認の完了に向けた進行状況が表示されます。 プロセスが完了すると、[**閉じる**] ボタンが表示されます。 **[閉じる]** をクリックします。

5.  期限を選択するには、更新プログラムを右クリックし、適切なコンピューターグループを選択し、その横にある矢印をクリックして、[**期限**] をクリックします。

    -   標準の期限 (1 週間、2週間、1か月) のいずれかを選択することも、[**カスタム**] をクリックして日付と時刻を指定することもできます。

    -   クライアントコンピューターがサーバーに接続した直後に更新プログラムをインストールする場合は、[**カスタム**] をクリックし、日付と時刻を現在の日付と時刻、または過去の日時に設定します。

#### <a name="to-approve-multiple-updates"></a>複数の更新プログラムを承認するには

1.  WSUS 管理コンソールで、[**更新プログラム**] をクリックし、[**すべての更新プログラム**] をクリックします。

2.  連続した複数の更新プログラムを選択するには、 **shift**キーを押しながら更新プログラムを選択します。 連続していない複数の更新プログラムを選択するには、 **ctrl**キーを押しながら更新プログラムを選択します。

3.  選択範囲を右クリックし、[**承認**] をクリックします。 [**更新プログラムの承認**] ダイアログボックスが**開き、[** 既存の承認を**保持**する **] と [OK** ] ボタンが無効になります。

4.  個々のグループの承認を変更することはできますが、その場合、子の承認には影響しません。 承認を変更するグループを選択し、左側の矢印をクリックします。 ショートカットメニューで、[**インストールの承認**] をクリックします。

5.  選択したグループの承認が**インストール**に変更されます。 子グループがある場合、それらの承認は引き続き**既存の承認を保持**します。 子グループの承認を変更するには、グループをクリックし、左側の矢印をクリックします。 ショートカットメニューの [**子に適用**] をクリックします。

6.  親からのすべての承認を継承するように特定の子を設定するには、子をクリックし、左側の矢印をクリックします。 ショートカットメニューで、[**親と同じ**] をクリックします。 承認を継承するように子を設定しても、親の承認を変更していない場合、子は親の既存の承認を継承します。

7.  すべての子の承認動作を変更する場合は、**すべてのコンピューター**を承認し、[**子に適用**] を選択します。

8.  すべての承認を設定した後、[ **OK]** をクリックします。 [**承認の進行状況**] ウィンドウに、承認の完了に向けた進行状況が表示されます。 プロセスが完了すると、[**閉じる**] ボタンが使用できるようになります。 **[閉じる]** をクリックします。

## <a name="declining-updates"></a>更新プログラムの拒否
このオプションを選択すると、更新プログラムが利用可能な更新プログラムの既定の一覧から削除され、WSUS サーバーは評価またはインストールのためにクライアントに更新プログラムを提供しません。 このオプションを使用するには、更新プログラムまたは更新プログラムのグループを選択し、右クリックするか、[操作] ウィンドウに移動します。 拒否された更新プログラムの一覧に表示されるのは、[**表示**] で更新リストのフィルタを指定するときに、[承認] 一覧で [**拒否**] を選択した場合のみです。

#### <a name="to-decline-updates"></a>更新プログラムを拒否するには

1.  WSUS 管理コンソールで、[**更新プログラム**] をクリックし、[**すべての更新プログラム**] をクリックします。

2.  更新プログラムの一覧で、拒否する更新プログラムを1つまたは複数選択します。

3.  [**拒否**] を選択し、確認メッセージで [**はい**] をクリックします。

## <a name="cleaning-up-declined-updates"></a>拒否される更新プログラムをクリーンアップしています
拒否された更新プログラムは、引き続き一部の WSUS サーバーリソースを使用します。 サーバークリーンアップウィザードを実行して、拒否された更新プログラムを WSUS データベースから削除する必要があります。 詳細については、[サーバークリーンアップウィザード](the-server-cleanup-wizard.md)に関する説明を参照してください。

## <a name="reinstating-declined-updates"></a>再開拒否済み更新プログラム
更新が拒否された後でも、更新を再開できます。

#### <a name="to-reinstate-declined-updates"></a>拒否される更新を再開するには

1.  WSUS 管理コンソールで、[**更新プログラム**] をクリックし、[**すべての更新プログラム**] をクリックします。

2.  **承認**を [**拒否**] に変更し、[**更新**] をクリックします。 拒否された更新プログラムの一覧が読み込まれます。

3.  更新プログラムの一覧で、復元する1つ以上の拒否された更新プログラムを選択します。

4.  特定の更新プログラムを復元するには、更新プログラムを右クリックし、[**承認**] を選択します。 [**更新プログラムの承認**] ダイアログで、[ **OK** ] をクリックして、承認されていない既定の承認状態を再適用します。 更新プログラムは、拒否ではなく**承認されていない**ものとして一覧に表示されます。

拒否した更新プログラムが WSUS サーバークリーンアップウィザードを使用してクリーンアップされると、WSUS サーバーから削除され、[すべての更新プログラム] ビューに表示されなくなります。 Microsoft Update カタログから、拒否された、クリーンアップされた更新プログラムを再インポートすることができます。 詳細については、「 [WSUS とカタログサイト](wsus-and-the-catalog-site.md)」を参照してください。

## <a name="change-an-approved-update-to-not-approved"></a>承認済みの更新プログラムを承認されていないものに変更する
更新プログラムが承認されていて、この時点でインストールしないことを決定した後、将来の時刻に保存する場合は、更新プログラムを [承認されていません] の状態に変更することができます。 つまり、更新プログラムは既定の利用可能な更新プログラムの一覧に残り、クライアントのコンプライアンス対応はレポートされますが、クライアントにはインストールされません。

#### <a name="to-change-an-update-from-approved-to-not-approved"></a>更新プログラムを承認済みから未承認に変更するには

1.  WSUS 管理コンソールで、[**更新プログラム**] をクリックし、[**すべての更新プログラム**] をクリックします。

2.  更新プログラムの一覧で、承認されていない承認済み更新プログラムを1つまたは複数選択します。

3.  ショートカットメニューまたは [**操作**] ウィンドウで、[**承認されていません**] を選択し、確認メッセージで [**はい**] をクリックします。

## <a name="approving-updates-for-removal"></a>更新プログラムの削除の承認
更新プログラムの削除を承認する (つまり、既にインストールされている更新プログラムをアンインストールする) ことができます。 このオプションは、更新プログラムが既にインストールされていて、削除をサポートしている場合にのみ使用できます。 更新プログラムをアンインストールする期限を指定できます。または、更新プログラムを直ちに削除する場合 (次にクライアントコンピューターが WSUS サーバーに接続するとき) に、期限までの日付を指定することもできます。

すべての更新プログラムが削除をサポートしているわけではないことに注意してください。 更新プログラムによって削除がサポートされているかどうかを確認するには、個々の更新プログラムを選択し、**詳細**ウィンドウを表示します。 [**追加の詳細**] の下に、**リムーバブル**カテゴリが表示されます。 WSUS を使用して更新プログラムを削除できない場合、場合によっては、**コントロールパネル**の [**プログラムの追加と削除**] で削除できます。

#### <a name="to-approve-updates-for-removal"></a>更新プログラムの削除を承認するには

1.  WSUS 管理コンソールで、[**更新プログラム**] をクリックし、[**すべての更新プログラム**] をクリックします。

2.  更新プログラムの一覧で、削除を承認する1つまたは複数の更新プログラムを選択して右クリックします (または [**操作**] ウィンドウにアクセスします)。

3.  [**更新プログラムの承認**] ダイアログボックスで、更新プログラムを削除するコンピューターグループを選択し、その横にある矢印をクリックします。

4.  [削除**の承認済み**] を選択し、[**削除**] ボタンをクリックします。

5.  削除の承認が完了したら、更新プログラムをもう一度右クリックし、適切なコンピューターグループを選択し、その横にある矢印をクリックして、期限を選択できます。 次に、[**期限**] を選択します。 標準の期限 (1 週間、2週間、1か月) のいずれかを選択するか、[**カスタム**] をクリックして特定の日付と時刻を選択することができます。

6.  クライアントコンピューターがサーバーに接続した直後に更新プログラムを削除する場合は、[**カスタム**] をクリックし、過去の日付を設定します。

## <a name="approving-updates-automatically"></a>更新プログラムを自動的に承認する
特定の更新プログラムを自動的に承認するように WSUS サーバーを構成できます。 また、既存の更新プログラムが利用可能になったときに、リビジョンの自動承認を指定することもできます。 既定では、このオプションはオンになっています。 リビジョンとは、変更が加えられた更新プログラムのバージョンです (たとえば、期限切れになったか、適用性の規則が変更された可能性があります)。 更新プログラムの改訂版を自動的に承認しない場合、WSUS は古いバージョンを使用するため、更新プログラムのリビジョンを手動で承認する必要があります。

WSUS サーバーが同期中に自動的に適用する規則を作成できます。 インストール、更新プログラムの分類、製品別、およびコンピューターグループ別に自動的に承認する更新プログラムを指定します。 これは、変更された更新プログラムではなく、新しい更新プログラムにのみ適用されます。 また、更新プログラムの承認期限を指定することもできます。これにより、承認済み更新プログラムが期限切れになるまでの日数と特定の時間が設定されます。 これらの設定は、[**オプション**] ウィンドウの [**自動承認**] で使用できます。

#### <a name="to-automatically-approve-updates"></a>更新プログラムを自動的に承認するには

1.  WSUS 管理コンソールで **[オプション]** をクリックし、 **[自動承認]** をクリックします。

2.  **[更新規則]** で、 **[新しい規則]** をクリックします。

3.  [**ルールの追加**] ダイアログの [**ステップ 1: プロパティの選択**] で、**更新が特定の分類に含まれる場合**、または**更新が特定の製品**(またはその両方) に条件として含まれる場合に、を使用するかどうかを選択します。 必要に応じて、承認の**期限を設定**するかどうかを選択します。

4.  [**ステップ 2: プロパティを編集**する] で、下線付きのプロパティをクリックし、必要に応じて、自動承認する分類、製品、およびコンピューターグループを選択します。 必要に応じて、[更新プログラムの承認期限の日時] を選択します。

5.  [**手順 3: 名前を指定**してください] ボックスに、規則の一意の名前を入力します。

6.  **[OK]** をクリックします。

自動承認規則は、サーバーでまだ受け入れられていない使用許諾契約書 (EULA) を必要とする更新プログラムには適用されません。 自動承認規則を適用しても関連する更新プログラムがすべて承認されない場合は、これらの更新プログラムを手動で承認する必要があります。

## <a name="automatically-approving-revisions-to-updates-and-declining-expired-updates"></a>更新プログラムの改訂を自動的に承認し、期限切れの更新プログラムを拒否する
[オプション] ウィンドウの [自動承認] セクションには、承認済み更新プログラムのリビジョンを自動的に承認するための既定のオプションがあります。 期限切れの更新プログラムを自動的に拒否するように WSUS サーバーを設定することもできます。 更新プログラムの改訂版を自動的に承認しない場合、WSUS サーバーでは古いリビジョンが使用されるため、更新プログラムのリビジョンを手動で承認する必要があります。

> [!NOTE]
> リビジョンは、変更された更新プログラムのバージョンです (たとえば、有効期限が切れているか、適用規則が更新されている可能性があります)。

#### <a name="to-automatically-approve-revisions-to-updates-and-decline-expired-updates"></a>更新プログラムのリビジョンを自動的に承認し、期限切れの更新プログラムを拒否するには

1.  WSUS 管理コンソールで **[オプション]** をクリックし、 **[自動承認]** をクリックします。

2.  [**詳細設定**] タブで、[**承認済み更新プログラムの新しいリビジョンを自動的に承認**する] と [**新しいリビジョンが有効期限切れになったときに自動的に更新を拒否**する] の両方が選択されていることを確認します。

3.  [OK] をクリックします。

    > [!NOTE]
    > これらのオプションの既定値を維持することで、WSUS ネットワークのパフォーマンスを良好な状態に保つことができます。 期限切れの更新プログラムが自動的に拒否されないようにする場合は、定期的に手動で拒否するようにしてください。

## <a name="automatically-declining-superseded-updates"></a>置き換えられる更新プログラムを自動的に拒否する
自動的に承認される既存の更新プログラムを置き換える新しい更新プログラムを承認すると、新しい更新プログラムがインストールされた後に、置き換えられる更新プログラムはコンピューターまたはデバイスに適用されなくなります。 WSUS コンソールで、更新プログラムがすべてのコンピューターに適用されていないことを確認できます。 この場合、更新プログラムを安全に拒否することができます。 また、WSUS サーバークリーンアップウィザードを実行すると、更新プログラムが自動的に拒否される場合があります。

置き換えられた更新プログラムを検索するには、[すべての更新プログラム] ビューで [優先フラグ] 列を選択し、その列を基準にして並べ替えます。 次の4つのグループがあります。

-   置き換えられたことがない更新プログラム (空白のアイコン)。

-   置き換えられたが、別の更新プログラム (下部に青い四角形が付いたアイコン) が置き換えられていない更新プログラム。

-   置き換えられ、別の更新プログラム (中央に青い正方形のアイコン) が置き換えられた更新プログラム。

-   別の更新プログラム (上部に青い正方形のアイコン) が置き換えられています。

新しい更新プログラムの承認時に置き換えられる更新プログラムを自動的に拒否する Windows Server Update Services の機能はありません。 最初に承認を未承認に設定してから、サーバークリーンアップウィザードを使用して、関連するすべての条件が満たされたときに更新プログラムを自動的に拒否することをお勧めします。 詳細については、「[サーバークリーンアップウィザード](the-server-cleanup-wizard.md)」を参照してください。

## <a name="approving-superseding-or-superseded-updates"></a>優先または置き換えられる更新プログラムの承認
通常、他の更新プログラムを置き換える更新プログラムには、次の1つまたは複数の方法があります。

-   機能強化、改良、または以前にリリースされた 1 つ以上の更新プログラムで提供される修正への機能追加。

-   更新プログラムのインストールが承認された場合、クライアント コンピューターにインストールされる更新プログラム ファイル パッケージの効率を改善します。 たとえば、置き換えられる更新プログラムに、修正、新しい更新プログラムでサポートするオペレーティング システムに関連しないファイルが含まれることがあるため、これらのファイルは置き換える方の更新プログラムのファイル パッケージには含まれません。

-   新しいバージョンのオペレーティングシステムを更新します。 また、置き換える更新プログラムでは、以前のバージョンのオペレーティングシステムがサポートされない場合があることに注意してください。

反対に、別の更新プログラムによって置き換えられる更新プログラムでは、次のことが行われます。

-   それを置き換える更新プログラムと同様の問題を修正します。 ただし、置き換える更新プログラムによって、置き換えられる更新プログラムによって提供される修正が強化される場合があります。

-   以前のバージョンのオペレーティングシステムを更新します。 場合によっては、置き換える更新プログラムによって、これらのバージョンのオペレーティングシステムが更新されなくなることがあります。

個々の更新プログラムの詳細ウィンドウでは、情報アイコンと上部にメッセージが表示され、別の更新によって置き換えられているか、置き換えられていることが示されます。 また、更新プログラムによって置き換えられる更新プログラムと置き換えられる更新プログラムを確認するには、[**プロパティ**] の [**追加の詳細**] セクションで、この更新プログラムと更新**プログラム**を**置き換える**更新プログラムを検索します。 更新プログラムの一覧の下に、更新プログラムの詳細ウィンドウが表示されます。

WSUS では、置き換えられる更新プログラムが自動的に拒否されることはないため、置き換えられる更新プログラムが新しい優先の更新プログラムを優先するように拒否することをお勧めします。 置き換えられる更新プログラムを拒否する前に、どのクライアントコンピューターでも不要になったことを確認してください。 次に、置き換えられる更新プログラムのインストールが必要になる可能性があるシナリオの例を示します。

-   置き換える更新プログラムが新しいバージョンのオペレーティングシステムのみをサポートし、一部のクライアントコンピューターが以前のバージョンのオペレーティングシステムを実行している場合。

-   置き換える更新プログラムの適用範囲が、置き換えられる更新プログラムよりも制限されている場合、一部のクライアントコンピューターでは不適切になります。

-   新しい変更により、更新プログラムが以前にリリースされた更新プログラムに代わるものではなくなりました。 リリースごとに変更を加えることで、以前のバージョンで以前に置き換えられた更新プログラムが更新プログラムに置き換えられる可能性があります。 このシナリオでは、置き換えられる更新プログラムに関するメッセージが表示されますが、それを置き換える更新プログラムが置き換えられています。


