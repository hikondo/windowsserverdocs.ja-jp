---
title: パフォーマンス イベントを表示およびサービスのデータ
description: サーバー マネージャー
ms.prod: windows-server
ms.technology: manage-server-manager
ms.topic: article
ms.assetid: ccd59c35-4dbf-48e7-88a4-c519c00184d1
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 992fdc6e4f1bba69d540a4ae810bde00db207a46
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/08/2020
ms.locfileid: "80851465"
---
# <a name="view-and-configure-performance-event-and-service-data"></a>パフォーマンス、イベント、サービスのデータの表示と構成

>適用対象: Windows Server (半期チャネル)、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

このトピックでは、表示、およびイベント ログ エントリ、パフォーマンス カウンター、およびサーバー マネージャーでのローカルとリモート サーバーに対して表示されるサービスのアラートを構成する方法について説明します。  

イベント、サービス、およびパフォーマンス ログ データは、サーバー マネージャー コンソールの Windows Server で 2 つの場所に表示されます。  

-   ダッシュ ボードをクリックして、 **イベント**, 、**パフォーマンス**, 、および **サービス** イベント、パフォーマンス、および役割、サーバー マネージャー サーバー プール全体、サーバー、ユーザーが作成したグループとローカル サーバーに対して表示するサービスのログ データを構成する縮小表示の行。 ハイパーテキスト行をクリックすると、 **[詳細表示]** ダイアログボックスが開き、ダッシュボードで警告を表示するデータを指定できます。 ダッシュボードのサムネイルで強調表示するイベント、サービス、パフォーマンスの各ログデータを構成した後、指定した条件に一致するログエントリが **[詳細表示]** ダイアログボックスの下部に一覧表示されます。  

-   **[イベント]** 、 **[サービス]** 、 **[パフォーマンス]** の各タイルは、役割およびグループのホーム ページの一部です。 これらのタイルの **[タスク]** メニューのコマンドを使って、管理対象サーバーから収集するデータを指定できます。 タイルには、必要に応じて、タイルに表示するログ エントリをさらに制限する、フィルターとクエリが用意されています。  

このトピックの内容は次のとおりです。  

-   [サムネイルとは](#BKMK_thumb)  

-   [イベントの表示と構成](#BKMK_events)  

-   [パフォーマンスカウンターの表示と構成](#BKMK_perf)  

-   [サービスを管理し、サービスの警告を構成する](#BKMK_services)  

-   [イベントまたはパフォーマンスのエントリを表示およびコピーする](#BKMK_copy)  

## <a name="what-are-thumbnails"></a><a name=BKMK_thumb></a>サムネイルとは  
*サムネイル* (役割のサムネイルは、すべてのロールを実行して、サーバー マネージャーのプール内のサーバーについて収集されたデータを表します) ロールごとに、サーバー マネージャー ダッシュ ボードに表示される各サーバー グループの **のすべてのサーバー** グループ (サーバー マネージャーのプール内のサーバーのすべて)、およびローカル サーバーにします。 サーバー マネージャーでは、管理対象サーバーからデータを取得、後に自動的にサーバー プール内のサーバーで実行されている役割のサムネイルが作成されます。  

サーバーマネージャーコンソールがリモートサーバー管理ツールの一部としてクライアントコンピューター上で実行されている場合、**ローカルサーバー**のサムネイルはありません。  

サムネイルには、役割、サーバー、サーバー グループの状態と管理状態がすばやく表示されます。 イベント、パフォーマンスカウンター、ベストプラクティスアナライザーの結果、サービス、または一般的な管理の問題が、サムネイル行をクリックして開いた **[詳細表示]** ダイアログボックスで構成した条件を満たす場合、サムネイルの見出し行の色 (および強調表示された数値が左余白に表示されます)。 サムネイルに表示されるデータを次の表に示します。  

|サムネイル行|説明|  
|---------|--------|  
|管理状態|サーバーの管理の容易性には、複数のメジャーが含まれています: およびかどうか、サーバーがオンラインまたはオフラインでアクセスできるかどうかがデータには、サーバー マネージャーで、ローカル コンピューターにログオンしているユーザーへのアクセスまたはリモート サーバーを管理する適切なユーザー権限を持っているかどうかを報告するかどうか、リモート サーバーを実行しているすべてのソフトウェアをリモートで管理するために必要、またはクエリを実行しても、サーバー マネージャーを使用して管理することを許可するように、サーバーが構成されているかどうか。 サーバー マネージャーは Windows Server 2003 を実行しているサーバーから収集するのみの管理性のデータは、サーバーがオンラインかオフラインかどうかです。 管理の状態のエラーおよび問題を解決する方法の詳細については、 [サーバー マネージャーのトラブルシューティング ガイドに関するページ](https://social.technet.microsoft.com/wiki/contents/articles/13443.windows-server-2012-server-manager-troubleshooting-guide-part-i-overview.aspx)をご覧ください。|  
|イベント|指定した重大度レベル、ソース、期間、サーバー、またはイベント ID と一致するイベントがログに記録されるとサムネイルの **[イベント]** 行に警告が表示されるように構成することができます。 イベントの詳細を表示し、表示するアラートを変更するには、 **[イベント]** 行をクリックし、役割またはサーバーグループの **[イベント詳細表示]** ダイアログボックスを開きます。|  
|サービス|サービス **[詳細表示]** ダイアログボックスで指定したスタートアップの種類、サービスの状態、サービス名、およびサーバーと一致するサービスが役割またはサーバーグループに見つかったときに、 **[サービス]** 行に警告が表示されるように構成できます。<p>サーバーがサーバー マネージャー サーバー プールに追加した後、管理対象のサーバーにログオンしたユーザーがない場合、Shell Hardware Detection サービスに関するサービスのアラートを表示できます。 Shell Hardware Detection サービスは管理対象サーバーにユーザーがログオンしている場合または管理対象サーバー上のリモート デスクトップ セッションに接続している場合にのみ実行されるため、この警告が発生します。 この場合に Shell Hardware Detection サービスの警告が表示されないようにするには、 **[すべてのサーバー]** グループを含む、サーバー グループのサムネイルで **[サービス]** をクリックします。 **[サービス詳細表示]** ダイアログボックスの **[サービス]** ドロップダウンリストで、 **[シェルハードウェア検出]** のチェックボックスをオフにし、 **[OK]** をクリックします。|  
|パフォーマンス テスト|[パフォーマンス**詳細表示**] ダイアログボックスで指定したリソースの種類、サーバー、または期間と一致するパフォーマンス警告が発生したときに、役割またはサーバーグループの警告を表示するように**パフォーマンス**行を構成できます。<p>既定では、パフォーマンス カウンターはオフになっています。 Windows Server 2003 より新しいオペレーティングシステムを実行していて、パフォーマンスカウンターが開始されていない管理対象サーバーは、通常、役割またはグループのページの **[サーバー]** タイルで**開始されていないオンラインパフォーマンスカウンター**の管理状態エラーを示します。 管理対象サーバーのパフォーマンスカウンターを有効にするには、 **[すべてのサーバー]** ページで、 **[パフォーマンス]** タイルの **[カウンターの状態]** 値が **[オフ]** になっているエントリを右クリックし、 **[パフォーマンスカウンターの開始]** をクリックします。 また、役割またはグループページの **[サーバー]** タイルでサーバーのエントリを右クリックし、 **[パフォーマンスカウンターの開始]** をクリックして、パフォーマンスカウンターを開始することもできます。|  
|BPA 結果|[Bpa**結果詳細表示**] ダイアログボックスで指定した重大度レベル、サーバー、または bpa カテゴリと一致する bpa スキャン結果が見つかったときに、役割またはサーバーグループのアラートを表示するように**bpa 結果**行を構成できます。|  

## <a name="view-and-configure-events"></a><a name=BKMK_events></a>イベントの表示と構成  
このセクションで、サーバー マネージャー サーバー プール内のサーバーから収集されるイベント ログ データを構成する方法について説明し、サムネイルで強調表示するイベントです。  

> [!NOTE]  
> これについては、サムネイルで警告イベントは、管理対象サーバーから収集するサーバー マネージャーに指示するすべてのイベントのサブセットです。 イベントの条件を変更するが、 **イベント データの構成**  ダイアログ ボックスで **イベント** タイルは、サムネイルでイベントのアラートの条件を変更する管理対象サーバーから収集されたイベント ログ データへの影響がないサーバー マネージャー ダッシュ ボードを確認するアラートの数を変更できます。  

#### <a name="to-configure-the-events-collected-from-managed-servers"></a>管理対象サーバーから収集するイベントを構成するには  

1.  サーバー マネージャー コンソールで、ダッシュ ボード以外のページを開きます。 管理対象サーバーから収集するイベントは、役割、サーバー グループ、またはローカル サーバーの各ページの **[イベント]** タイルで構成できます。  

2.  **[イベント]** タイルの **[タスク]** メニューの **[イベント データの構成]** をクリックします。  

3.  選択したグループ内のサーバーから収集するイベントの重大度レベルを選択します。 既定では、 **[重大]** 、 **[エラー]** 、 **[警告]** の重大度レベルが選択されます。  

4.  イベントの発生する期間を指定します。 イベントの既定の有効期間は 24 時間です。  

5.  イベントを収集するイベントログファイルを選択します。 既定値は、 **[アプリケーション]** 、 **[セットアップ]** 、 **[システム]** です。  

6.  変更内容を保存するには、 **[OK]** をクリックし、 **[イベント データの構成]** ダイアログ ボックスを閉じます。 イベント データは、変更内容を保存すると自動的に更新されます。  

#### <a name="to-configure-the-events-highlighted-in-thumbnails"></a>サムネイルで強調表示するイベントを構成するには  

1.  サーバーマネージャーが既に開いている場合は、次の手順に進みます。 サーバー マネージャーをまだ開いていない場合は、次のいずれかの方法で開きます。  

    -   Windows デスクトップで、Windows タスク バーの **[サーバー マネージャー]** をクリックし、サーバー マネージャーを開始します。  

    -   Windows の**スタート**画面で、サーバー マネージャー タイルをクリックします。  

2.  ダッシュボード ページの **[役割とサーバー グループ]** タイルのサムネイルで、 **[イベント]** 行をクリックします。  

3.  **[イベント詳細表示]** ダイアログボックスで、表示するイベントに重大度レベルを追加します。 既定では、重大なイベントだけが強調表示の警告としてサムネイルに表示されます。 **[詳細表示]** ダイアログボックスに表示されるイベントの数は、警告を表示する重大度レベルを追加すると増加します。  

4.  **[イベント ソース]** フィールドで、警告を表示するイベント ソースを選択します。 既定値は **All**です。  

5.  複数のサーバーまたは複数のサーバーのグループにインストールされている役割のサムネイルの場合は、 **[サーバー]** ドロップダウンリストでイベントの警告を表示するサーバーを選択できます。  

6.  [期間 **] フィールドで**、1440分、24時間、または1日までの期間を指定します。  

7.  **[イベント ID]** フィールドに、警告を表示する特定のイベントのイベント ID の数値を入力します。 イベント ID の範囲をダッシュ ( **-** ) で区切って入力できます。また、除外するイベント ID またはイベント ID の範囲の前にダッシュを入力すると、範囲からイベント ID を除外できます。 たとえば、「**1,3,5-99,-76**」という値は、イベント ID が 1、3 のイベントと、イベント ID が 76 のイベントを除く、ID が 5 ～ 99 の範囲のすべてのイベントに対して警告が表示されます。  

8.  警告を表示する条件を変更すると、ダイアログ ボックスの下部の結果ウィンドウに表示されるイベントの警告の数が変化します。 一覧でエントリを選択し、[**アラートを非表示**にする] をクリックして、元のサムネイルに表示されているアラート数に影響を与えないようにします。 **Ctrl** キーを長押ししながら、警告を選択すると、複数の警告を一度に選択できます。 この操作は、イベントの警告の条件に一致していても、表示する必要がない警告に使うことができます。  

9. **[すべて表示]** をクリックすると、非表示にした警告を一覧に戻すことができます。  

10. **[OK]** をクリックして変更を保存し、 **[詳細表示]** ダイアログボックスを閉じて、元のサムネイルでイベントの警告の変更内容を表示します。  

## <a name="view-and-configure-performance-log-data"></a><a name=BKMK_perf></a>パフォーマンスログデータの表示と構成  
このセクションで、サーバー マネージャー サーバー プール内のサーバーから収集されるパフォーマンス ログ データを構成する方法について説明し、サムネイルで強調表示するパフォーマンス カウンターの警告します。  

既定では、パフォーマンス カウンターはオフになっています。 Windows Server 2003 より新しいオペレーティングシステムを実行していて、パフォーマンスカウンターが開始されていない管理対象サーバーは、通常、役割またはグループのページの **[サーバー]** タイルで**開始されていないオンラインパフォーマンスカウンター**の管理状態エラーを示します。 管理対象サーバーのパフォーマンスカウンターを有効にするには、 **[すべてのサーバー]** ページで、 **[パフォーマンス]** タイルの **[カウンターの状態]** 値が **[オフ]** になっているエントリを右クリックし、 **[パフォーマンスカウンターの開始]** をクリックします。 また、役割またはグループページの **[サーバー]** タイルでサーバーのエントリを右クリックし、 **[パフォーマンスカウンターの開始]** をクリックして、パフォーマンスカウンターを開始することもできます。  

> [!NOTE]  
> サムネイルに表示するパフォーマンス アラートは、管理対象サーバーから収集するサーバー マネージャーに指示するすべてのパフォーマンス カウンターのデータのサブセットです。 パフォーマンス警告の条件を変更する、 **パフォーマンス警告の構成**  ダイアログ ボックスで **パフォーマンス** タイルは、サムネイルでパフォーマンス警告の条件を変更する管理対象サーバーから収集されるパフォーマンス ログ データへの影響がないサーバー マネージャー ダッシュ ボードを確認するアラートの数を変更できます。  
>   
> このため、サムネイルに表示できるパフォーマンス データの最大期間は、 **[パフォーマンス警告の構成]** ダイアログ ボックスで構成されている最大グラフ表示期間を超えることはできません。 たとえば、 **[パフォーマンス警告の構成]** の **[グラフの表示期間]** の値が**1 日**の場合、サーバーマネージャーダッシュボードから開いた **[パフォーマンス詳細表示]** ダイアログボックスの [期間 **] フィールドの**最大値は、 **1 日**、 **24 時間**、または**1440 分**になります。  

#### <a name="to-configure-the-performance-log-data-collected-from-managed-servers"></a>管理対象サーバーから収集するパフォーマンス ログ データを構成するには  

1.  サーバー マネージャー コンソールで、ダッシュ ボード以外のページを開きます。 管理対象サーバーから収集するパフォーマンス データは、役割、サーバー グループ、またはローカル サーバーの各ページの **[パフォーマンス]** タイルで構成できます。  

2.  管理対象サーバーからパフォーマンス ログ データを収集するには、パフォーマンス カウンターを有効にする必要があります。 パフォーマンスカウンターが無効になっている場合は、 **[パフォーマンス]** タイルの一覧のエントリを右クリックし、 **[パフォーマンスカウンターの開始]** をクリックします。 パフォーマンス カウンターのデータ収集には、データの収集元のサーバーの数と使用できるネットワーク帯域幅に応じて、時間がかかる場合があります。 状態は、 **[カウンターの状態]** 列に表示されます。  

3.  **[パフォーマンス]** タイルの **[タスク]** メニューの **[パフォーマンス警告の構成]** をクリックします。  

4.  選択したグループ内のサーバー、または選択した役割を実行しているサーバーについては、サーバーマネージャーによって収集されたパフォーマンスカウンターアラートが必要な CPU 使用率の割合を指定します。 既定値は 85% です。  

5.  サーバーで使用できる残りのメモリ量が一定量まで減少した場合にパフォーマンス カウンターの警告を収集する量を MB 単位で指定します。 既定値は 2 MB です。  

6.  選択したページの **[パフォーマンス]** タイルに、 **CPU 使用率** と **使用可能なメモリ** のリソースをグラフで表示する期間を指定します。 既定の期間は 1 日です。 **[保存]** をクリックします。  

    **[パフォーマンス]** タイルのパフォーマンス警告の数と、グラフで時間の経過とともに表示される警告へのマッピングは、 **[保存]** をクリックした後で変更できます。  

    > [!NOTE]  
    > [動的メモリ](https://technet.microsoft.com/library/ff817651.aspx)が有効になっている仮想マシンでは、パフォーマンスアラートのしきい値を大きくすると、誤検知アラートが発生する可能性があります。  

7.  サーバーから収集されたパフォーマンス警告の一覧を最新の情報に更新するには、 **[タスク]** メニューの **[最新の情報に更新]** をクリックします。  

#### <a name="to-configure-the-performance-alerts-highlighted-in-thumbnails"></a>サムネイルで強調表示するパフォーマンス警告を構成するには  

1.  ダッシュボード ページの **[役割とサーバー グループ]** タイルのサムネイルで、 **[パフォーマンス]** 行をクリックします。  

2.  **[パフォーマンス詳細表示]** ダイアログボックスで、 **[リソースの種類]** フィールドで、警告を表示するリソースのパフォーマンスしきい値のチェックボックスをオンまたはオフにします。 **[詳細表示]** ダイアログボックスに表示されるパフォーマンス警告の数は、警告を表示するリソースのパフォーマンスしきい値を追加すると増加することがあります。  

3.  複数のサーバーまたは複数のサーバーのグループにインストールされている役割のサムネイルの場合は、 **[サーバー]** ドロップダウンリストでパフォーマンス警告を表示するサーバーを選択できます。  

4.  [期間 **] フィールドで**、1440分、24時間、または1日までの期間を指定します。  

5.  警告を表示する条件を変更すると、ダイアログ ボックスの下部の結果ウィンドウに表示される警告の数が変化します。 **[警告の非表示]** をクリックして現在の時刻より前のすべての警告を非表示にしても、元のサムネイルに表示される警告数には影響しません。  

6.  **[すべて表示]** をクリックすると、非表示にした警告を一覧に戻すことができます。  

7.  **[OK]** をクリックして変更を保存し、 **[詳細表示]** ダイアログボックスを閉じて、元のサムネイルでパフォーマンス警告の変更内容を表示します。  

#### <a name="to-view-the-properties-of-performance-alerts"></a>パフォーマンス警告のプロパティを表示するには  

1.  次のいずれかの操作を行います。  

    -   ダッシュボード ページの **[役割とサーバー グループ]** タイルのサムネイルで、 **[パフォーマンス]** 行をクリックします。  

    -   役割またはグループのホーム ページを開き、その役割またはグループの **[パフォーマンス]** タイルを見つけます。  

2.  一覧に表示されている、プロパティを表示するパフォーマンス警告をダブルクリックします。 または、パフォーマンス警告を右クリックし、 **[プロパティの表示]** をクリックすることもできます。  

3.  **[パフォーマンス警告のプロパティ]** ダイアログ ボックスの **[プロセス]** 領域で、エントリに関連付けられているプロセスに関する情報を表示するログ エントリを選択します。  

4.  パフォーマンス警告のプロパティを確認し終わったら、ダイアログ ボックスを閉じます。  

### <a name="analyze-performance-data-and-solve-problems"></a>パフォーマンス データの分析と問題の解決  
サーバーマネージャーで表示するパフォーマンスカウンターデータを分析する方法、および管理対象サーバーのパフォーマンスの問題を解決する方法の詳細については、次のリソースを参照してください。  

-   [パフォーマンスデータの分析](https://go.microsoft.com/fwlink/?LinkId=239829)  

-   [パフォーマンスの問題の解決](https://go.microsoft.com/fwlink/?LinkId=239831)  

Server Performance Advisor 3.0 を含む、windows server 2012 およびそれ以降のリリースの Windows Server で利用できる高度なパフォーマンス監視および分析ツールの詳細については、MSDN の「 [performance (パフォーマンス](https://msdn.microsoft.com/windows/hardware/gg463374.aspx))」を参照してください。  

## <a name="manage-services-and-configure-service-alerts"></a><a name=BKMK_services></a>サービスを管理し、サービスの警告を構成する  
このセクションで開始、停止、再起動、一時停止、またはに表示されるサービスを再開する方法を学習、 **サービス** 役割およびサーバー グループのページでサーバー マネージャー タイルです。 サーバー マネージャー ダッシュ ボードのサムネイルで警告が発生するどのサービスを構成することもできます。  

> [!NOTE]  
> サービス、サービスの依存関係、回復のオプション、またはサーバー マネージャーで [サービス] タイルの他のサービスのプロパティのスタートアップの種類を変更することはできません。 サービスの状態以外のサービスのプロパティを変更するには、**サービス** スナップインを開く必要があります。 ショートカット、 **サービス** スナップインでは、利用可能な **ツール**  メニューの サーバー マネージャーでします。  

#### <a name="to-start-stop-restart-pause-or-resume-a-service"></a>サービスを開始、停止、再起動、一時停止、または再開するには  

1.  サーバー マネージャー コンソールでは、ダッシュ ボード (つまり、すべての役割またはグループ ホーム ページ) 以外のページを開きます。  

2.  役割またはグループの **[サービス]** タイルで、サービスを右クリックします。  

3.  ショートカット メニューで、サービスに対して実行する操作をクリックします。 サービスが停止している場合、実行できる操作はサービスの開始だけです。 同様に、サービスが一時停止している場合、実行できる操作はサービスの再開だけです。  

4.  サービスを開始、停止、再起動、一時停止、または再開すると、そのサービスに対して **[サービス]** タイルに表示される **[状態]** 列の値が変化します。  

#### <a name="to-configure-service-alerts-highlighted-in-thumbnails"></a>サムネイルで強調表示するサービスの警告を構成するには  

1.  ダッシュボード ページの **[役割とサーバー グループ]** タイルのサムネイルで、 **[サービス]** 行をクリックします。  

2.  **[サービス詳細表示]** ダイアログボックスで、警告を表示するサービスのスタートアップの種類を選択します。 既定では、 **[自動 (遅延開始)]** と **[自動]** が選択されています。  

3.  警告を表示するサービスの状態を選択します。 既定では、 **[すべて]** が選択されています。  

4.  警告を表示するサービスを選択します。 既定では、 **[すべて]** が選択されています。  

5.  サービスに関するアラートを受信する役割またはグループに関連付けられているサーバーを選択します。 既定では、 **[すべて]** が選択されています。  

6.  警告を表示する条件を変更すると、ダイアログ ボックスの下部の結果ウィンドウに表示される警告の数が変化します。 **[警告の非表示]** をクリックして現在の時刻より前のすべての警告を非表示にしても、元のサムネイルに表示される警告数には影響しません。  

7.  **[すべて表示]** をクリックすると、非表示にした警告を一覧に戻すことができます。  

8.  **[OK]** をクリックして変更を保存し、 **[詳細表示]** ダイアログボックスを閉じて、元のサムネイルでサービスの警告の変更内容を表示します。  

## <a name="view-and-copy-event-service-or-performance-entries"></a><a name=BKMK_copy></a>イベント、サービス、またはパフォーマンスのエントリを表示およびコピーする  
**[詳細表示]** ダイアログボックスと、役割またはグループの **[イベント]** タイルと **[パフォーマンス]** タイルの両方で、イベント、サービス、パフォーマンスの各エントリのプロパティをコピーできます。 イベントまたはパフォーマンスのエントリを右クリックし、 **[コピー]** をクリックします。  

**[イベント]** タイルでは、一覧のイベントを選択すると、タイルの下半分にイベントのプロパティのプレビューが表示されます。 プレビューに表示されているプロパティをコピーするには、プレビューウィンドウを右クリックし、 **[コピー]** をクリックします。  

## <a name="see-also"></a>参照  
[サーバー マネージャー](server-manager.md)  
[サーバー マネージャー タイルのデータのフィルター処理、並べ替え、照会](filter-sort-and-query-data-in-server-manager-tiles.md)  
