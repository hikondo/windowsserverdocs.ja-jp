---
title: Evntcmd
description: 'Windows コマンドに関するトピック * * * *- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: c1aabb74-76e7-4304-95a6-50ad87e92fd9
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: b4496df6df1a40b383505627d58389c098493f59
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/27/2019
ms.locfileid: "71377440"
---
# <a name="evntcmd"></a>Evntcmd

>適用対象: Windows Server (半期チャネル)、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

構成ファイルの情報に基づいて、トラップ、トラップ宛先、またはその両方に対するイベントの変換を構成します。   
## <a name="syntax"></a>構文  
```  
evntcmd [/s <computerName>] [/v <verbosityLevel>] [/n] <FileName>  
```  
### <a name="parameters"></a>パラメーター  

|      パラメーター      |                                                                                                                                                            説明                                                                                                                                                             |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  /s <computerName>  |                                                         トラップするイベント、トラップの送信先、またはその両方を構成するコンピューターを名前で指定します。 コンピューターを指定しない場合、構成はローカルコンピューター上で行われます。                                                          |
| /v <verbosityLevel> | トラップおよびトラップ送信先が構成されているステータスメッセージの種類を指定します。 このパラメーターは、0から10までの整数である必要があります。 10を指定すると、すべての種類のメッセージが表示されます。これには、トラップの構成が成功したかどうかに関するトレースメッセージや警告が含まれます。 0を指定した場合、メッセージは表示されません。 |
|         /n          |                                                                                                           このコンピューターがトラップ構成の変更を受信した場合に、SNMP サービスを再起動しないように指定します。                                                                                                            |
|     <FileName>      |                                                                                     トラップするイベントと構成するトラップの送信先に関する情報を含む構成ファイルを名前で指定します。                                                                                     |
|         /?          |                                                                                                                                                コマンド プロンプトにヘルプを表示します。                                                                                                                                                |

## <a name="remarks"></a>注釈  
- トラップの送信先を構成せずにトラップを構成する場合は、イベントを使用して有効な構成ファイルを作成できます。このトランスレーターは、グラフィカルユーティリティです。 SNMP サービスがインストールされている場合は、コマンドプロンプトで「 **evntwin** 」と入力することによって、イベントのトラップトランスレーターを開始できます。 必要なトラップを定義したら、[エクスポート] をクリックして、 **evntcmd**での使用に適したファイルを作成します。 イベントを使用して、簡単に構成ファイルを作成し、コマンドプロンプトで**evntcmd**と共に構成ファイルを使用して、複数のコンピューターでトラップをすばやく構成することができます。  
- トラップを構成するための構文は次のとおりです。  
  <em><EventLogFile> <EventSource> の**追加 #pragma** <EventID> [<Count> [<Period>]]</em>  
  -   テキスト **#pragma**は、ファイル内の各エントリの先頭に表示される必要があります。  
  -   パラメーター **add**は、トラップ構成にイベントを追加することを指定します。  
  -   パラメーター *Eventlogfile*、 *EventSource*、および*EventID*が必要です。 パラメーター *Eventlogfile*は、イベントが記録されるファイルを指定します。 パラメーター *EventSource*は、イベントを生成するアプリケーションを指定します。 *EventID*パラメーターは、各イベントを識別する一意の番号を指定します。 特定のイベントに対応する値を調べるには、コマンドプロンプトで「 **evntwin** 」と入力して、トラップトランスレーターのイベントを開始します。 **[カスタム]** をクリックし、 **[編集]** をクリックします。 **[イベントソース]** で、構成するイベントが見つかるまでフォルダーを参照してクリックし、 **[追加]** をクリックします。 イベントソース、イベントログファイル、およびイベント ID に関する情報が、それぞれ [**ソース]、[ログ**]、 **[トラップ固有の id]** の下に表示されます。  
  -   *Count*パラメーターは省略可能であり、トラップメッセージが送信される前にイベントが発生する必要がある回数を指定します。 *Count*パラメーターを使用しない場合、イベントが1回発生した後にトラップメッセージが送信されます。  
  -   *Period*パラメーターは省略可能ですが、 *Count*パラメーターを使用する必要があります。 *Period*パラメーターには、トラップメッセージが送信される前に、イベントがカウントパラメーターで指定した回数だけ発生する必要がある時間 (秒単位) を指定します。 *Period*パラメーターを使用しない場合、イベントの発生後にトラップメッセージが送信されます。この回数を過ぎると、イベントは*Count*パラメーターで指定した回数だけ発生します。  
- トラップを削除するための構文は次のとおりです。  
  **#pragma**<em><EventLogFile> <EventSource> <EventID></em> の削除  
  -   テキスト **#pragma**は、ファイル内の各エントリの先頭に表示される必要があります。  
  -   パラメーター *delete*は、トラップ構成のイベントを削除することを指定します。  
  -   パラメーター *Eventlogfile*、 *EventSource*、および*EventID*が必要です。 パラメーター *Eventlogfile*は、イベントが記録されるログを指定します。 パラメーター *EventSource*は、イベントを生成するアプリケーションを指定します。 *EventID*パラメーターは、各イベントを識別する一意の番号を指定します。  
- トラップ送信先を構成するための構文は次のとおりです。  
  **#pragma add_TRAP_DEST**<em><CommunityName> <HostID></em>  
  -   テキスト **#pragma**は、ファイル内の各エントリの先頭に表示される必要があります。  
  -   パラメーター **add_TRAP_DEST**は、コミュニティ内の指定されたホストにトラップメッセージを送信することを指定します。  
  -   パラメーター *CommunityName*は、トラップメッセージが送信されるコミュニティを名前で指定します。  
  -   パラメーター *HostID*は、トラップメッセージを送信するホストの名前または IP アドレスを指定します。  
- トラップの送信先を削除するための構文は次のとおりです。  
  **#pragma delete_TRAP_DEST**<em><CommunityName> <HostID></em>  
  - テキスト **#pragma**は、ファイル内の各エントリの先頭に表示される必要があります。  
  - パラメーター *delete_TRAP_DEST*は、コミュニティ内の指定されたホストにトラップメッセージを送信しないように指定します。  
  - パラメーター *CommunityName*は、トラップメッセージが送信されるコミュニティを名前で指定します。  
  - パラメーター *HostID*は、トラップメッセージを送信する必要のないホストの名前または IP アドレスを指定します。  
    ## <a name="BKMK_Examples"></a>例  
    次の例は、 **evntcmd**コマンドの構成ファイル内のエントリを示しています。 コマンドプロンプトで入力するように設計されていません。  
    イベントログサービスが再開されたときにトラップメッセージを送信するには、次のように入力します。  
    ```  
    #pragma add System "Eventlog" 2147489653  
    ```  
    イベントログサービスが3分間に2回再起動された場合にトラップメッセージを送信するには、次のように入力します。  
    ```  
    #pragma add System "Eventlog" 2147489653 2 180  
    ```  
    イベントログサービスが再開されるたびにトラップメッセージの送信を停止するには、次のように入力します。  
    ```  
    #pragma delete System "Eventlog" 2147489653  
    ```  
    パブリックというコミュニティ内のトラップメッセージを、IP アドレス192.168.100.100 を使用してホストに送信するには、次のように入力します。  
    ```  
    #pragma add_TRAP_DEST public 192.168.100.100  
    ```  
    プライベートという名前のコミュニティ内のトラップメッセージを、"という名前のホストに送信するには、次のように入力します。  
    ```  
    #pragma add_TRAP_DEST private Host1  
    ```  
    プライベートという名前のコミュニティ内のトラップメッセージを、トラップ送信先を構成する同じコンピューターに送信しないようにするには、次のように入力します。  
    ```  
    #pragma delete_TRAP_DEST private localhost  
    ```  
    ## <a name="additional-references"></a>その他の参照情報  
- [コマンド ライン構文の記号](command-line-syntax-key.md)  
