---
title: cleanmgr.exe
description: コマンドラインオプションを使用して、特定のファイルを自動的にクリーンアップするようにディスククリーンアップツール (Cleanmgr.exe) を構成する方法について説明します。
ms.prod: windows-server
ms.reviewer: cosmosdarwin
author: iangpgh
ms.author: jgerend
manager: daveba
ms.technology: storage-spaces
ms.date: 06/20/2019
ms.openlocfilehash: 20bc60abc747e6bab0ef59f38d0a392f18d75abe
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/27/2019
ms.locfileid: "71379376"
---
# <a name="cleanmgr"></a>cleanmgr.exe

> 適用対象: Windows Server 2019、Windows Server 2016、Windows Server 2012、Windows Server 2008 R2、Windows Server (半期チャネル)

コンピューターのハードディスクから不要なファイルを削除します。 コマンドラインオプションを使用すると、[ファイル]、[インターネットファイル]、[ダウンロードされたファイル]、および [ごみ箱] のファイルを、このファイルでクリーンアップするように指定できます。 その後、スケジュールされたタスクツールを使用して、特定の時刻に実行されるようにタスクをスケジュールすることができます。

このコマンドを使用する方法の例については、[例](#examples)を参照してください。

## <a name="syntax"></a>構文

```
cleanmgr [/d <driveletter>] [/sageset:n]  [/sagerun:n] [/TUNEUP:n] [/LOWDISK] [/VERYLOWDISK]
```

## <a name="parameters"></a>パラメーター

|      パラメーター      |    説明     |
| ------------------- | ------------------ |
|  /d \<のドライブ文字 >          | ディスククリーンアップをクリーニングするドライブを指定します。<br>**注:** /D オプションは/sagerun: n では使用されません。 |
| /sageset: n | [ディスククリーンアップの設定] ダイアログボックスが表示されます。また、選択した設定を保存するためのレジストリキーも作成されます。 レジストリに格納されている `n` 値を使用すると、ディスククリーンアップを実行するタスクを指定できます。 `n` 値には、0 ~ 65535 の任意の整数値を指定できます。 /Sageset オプションを使用するときにすべてのオプションを使用できるようにするには、Windows がインストールされているドライブを指定します。  |
|  /sagerun: n  |  \Sageset オプションを使用する場合、n 値に割り当てられている指定されたタスクを実行します。 コンピューター上のすべてのドライブが列挙され、選択したプロファイルが各ドライブに対して実行されます。           |
| /チューンアップ: n    | 同じ `n` に対して/sageset と/sagerun を実行します。 |
| /Lowdisk     | 既定の設定を使用してを実行します。 |
| /非常に低ディスク | 既定の設定を使用してを実行します。ユーザープロンプトは表示されません。 |
| /?           | ヘルプを表示します。 |

## <a name="options"></a>オプション

/Sageset と/sagerun を使用してディスククリーンアップに指定できるファイルのオプションは次のとおりです。

- **一時セットアップファイル**-これらは、実行されなくなったセットアッププログラムによって作成されたファイルです。

- **ダウンロードしたプログラムファイル**-ダウンロードしたプログラムファイルは、特定のページを表示したときにインターネットから自動的にダウンロードされる ActiveX コントロールおよび Java プログラムです。 これらのファイルは、ハードディスク上のダウンロード済みプログラムファイルフォルダーに一時的に保存されます。 このオプションには [ファイルの表示] ボタンが含まれているので、ディスククリーンアップによってファイルが削除される前にファイルを確認できます。 このボタンをクリックすると、C:\Winnt\Downloaded Program Files フォルダーが開きます。

- **インターネット一時ファイル**-Temporary internet files フォルダーには、簡単に表示できるようにハードディスクに保存されている Web ページが含まれています。 ディスククリーンアップでは、これらのページは削除されますが、Web ページの個人用設定はそのまま残ります。 このオプションには、[ファイルの表示] ボタンもあります。このボタンをクリックすると、C:\documents and および Settings\Username\Local Settings\Temporary Internet Files\Content.IE5 フォルダーが開きます。 

- **古い Chkdsk ファイル**-chkdsk でディスクにエラーがないかどうかがチェックされると、chkdsk では失われたファイルフラグメントがディスク上のルートフォルダーのファイルとして保存される場合があります。 これらのファイルは不要です。

- **ごみ箱**-ごみ箱には、コンピューターから削除したファイルが含まれています。 これらのファイルは、ごみ箱を空にするまで完全には削除されません。 このオプションには、ごみ箱を開く [ファイルの表示] ボタンがあります。 **注:** ごみ箱は、% SystemRoot% だけでなく、たとえば、複数のドライブに表示される場合があります。

- **一時ファイル**-プログラムによって一時フォルダーに一時的な情報が格納されることがあります。 プログラムが終了する前に、プログラムは通常この情報を削除します。 過去1週間以内に変更されていない一時ファイルは安全に削除できます。

- **一時オフラインファイル**-一時オフラインファイルは、最近使用したネットワークファイルのローカルコピーです。 これらのファイルは、ネットワークから切断した後で使用できるように、自動的にキャッシュされます。 [ファイルの表示] ボタンをクリックすると、オフラインファイルフォルダーが開きます。

- **オフラインファイル**オフラインファイルは、ネットワークから切断した後に使用できるように、オフラインで使用できるようにする必要があるネットワークファイルのローカルコピーです。 [ファイルの表示] ボタンをクリックすると、オフラインファイルフォルダーが開きます。

- **古いファイルを圧縮**する-最近使用したことがないファイルは Windows で圧縮できます。 ファイルを圧縮するとディスク領域が節約されますが、ファイルを使用することもできます。 ファイルは削除されません。 ファイルは異なるレートで圧縮されるので、表示されるディスク領域の量は概算です。 [オプション] ボタンを使用すると、ディスククリーンアップによって未使用ファイルが圧縮されるまでの待機日数を指定できます。

- **コンテンツインデクサーのカタログファイル**-インデックスサービスは、ディスク上のファイルのインデックスを保持することにより、ファイル検索を高速化し、改善します。 これらのカタログファイルは以前のインデックス作成操作のままであり、安全に削除できます。 **注:** カタログファイルが複数のドライブに表示されることがあります。たとえば、% SystemRoot% だけではありません。

**メモ**Windows のインストールが含まれているドライブのクリーンアップを指定すると、これらのオプションはすべて [ディスククリーンアップ] タブに表示されます。他のドライブを指定する場合は、[ディスククリーンアップ] タブで、[ごみ箱] および [カタログファイルのコンテンツインデックス] オプションのみを使用できます。 

## <a name="examples"></a>例

ディスククリーンアップアプリを実行して、そのダイアログボックスを使用して後で使用するオプションを指定できるようにするには、設定をセット**1**に保存し、次のように入力します。

```
cleanmgr /sageset:1
```

ディスククリーンアップを実行し、cleanmgr.exe/sageset: 1 コマンドで指定したオプションを含めるには、次のように入力します。

```
cleanmgr /sagerun:1
```

```cleanmgr /sageset:1``` を実行して ```cleanmgr /sagerun:1``` するには、次のように入力します。

```
cleanmgr /tuneup:1
```

## <a name="additional-references"></a>その他の参照情報

[Windows 10 でドライブの空き容量を増やす](https://support.microsoft.com/en-us/help/12425/windows-10-free-up-drive-space)
