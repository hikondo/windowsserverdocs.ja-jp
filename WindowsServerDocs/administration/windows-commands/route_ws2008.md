---
title: route
description: ルートコマンドの参照記事。ローカル IP ルーティングテーブルのエントリを変更して表示します。
ms.topic: reference
ms.assetid: afcd666c-0cef-47c2-9bcc-02d202b983b3
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: a15e9190ac135a49cfacfd259a7058765cafa8a4
ms.sourcegitcommit: 96d46c702e7a9c3a321bbbb5284f73911c7baa3c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/27/2020
ms.locfileid: "89033760"
---
# <a name="route"></a>route

> 適用対象: Windows Server (半期チャネル)、Windows Server 2019、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

表示し、ローカル IP ルーティング テーブル内のエントリを変更します。 パラメーターを指定せずに使用した場合、 **ルート** はコマンドプロンプトでヘルプを表示します。

> [!IMPORTANT]
> このコマンドは、インターネット プロトコル (TCP/IP) プロトコルがネットワーク接続のネットワーク アダプターのプロパティでコンポーネントとしてインストールされている場合にのみ使用できます。

## <a name="syntax"></a>構文

```
route [/f] [/p] [<command> [<destination>] [mask <netmask>] [<gateway>] [metric <metric>]] [if <interface>]]
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
|--|--|
| /f | ホスト ルート (ネットマスク 255.255.255.255 を持つルート)、ループバック ネットワーク ルート (127.0.0.0 の宛先とネットマスク 255.0.0.0 を持つルート)、またはマルチキャストのルートはすべてのエントリのルーティング テーブルを消去 (224.0.0.0 の宛先とネットマスク 240.0.0.0 ルート)。 これは、コマンド (このような追加、変更、または削除) のいずれかと組み合わせて使用する場合、コマンドを実行する前に、テーブルがクリアされます。 |
| /p | [追加] コマンドと共に使用すると、指定されたルートはレジストリに追加し、TCP/IP プロトコルを起動するたびに、IP ルーティング テーブルを初期化するために使用します。 既定では、TCP/IP プロトコルを開始したときに、追加されたルートは保持されません。 印刷コマンドに使用する場合は、永続的なルートの一覧が表示されます。 その他のすべてのコマンドでは、このパラメーターは無視されます。 永続的なルートが、レジストリの場所に格納されている **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\PersistentRoutes**します。 |
| `<command>` | 実行するコマンドを指定します。 有効なコマンドは次のとおりです。<ul><li>**add** -ルートを追加します。</li><li>**変更** -既存のルートを変更します。</li><li>**delete:** -1 つまたは複数のルートを削除します。</li><li>**印刷** -1 つまたは複数のルートを印刷します。</li></ul> |
| `<destination>` | ルートのネットワークの宛先を指定します。 宛先には、IP ネットワーク アドレスが (ネットワーク アドレスのホスト ビットが 0 に設定されている)、ホスト ルートの IP アドレスまたは既定のルートの場合は 0.0.0.0 を指定できます。 |
| 隠す `<netmask>` | ルートのネットワークの宛先を指定します。 宛先には、IP ネットワーク アドレスが (ネットワーク アドレスのホスト ビットが 0 に設定されている)、ホスト ルートの IP アドレスまたは既定のルートの場合は 0.0.0.0 を指定できます。 |
| `<gateway>` | ネットワーク宛先とサブネット マスクによって定義されたアドレスのセットが到達可能なの転送先または次ホップ IP アドレスを指定します。 ローカルに接続されたサブネット ルートの場合は、ゲートウェイ アドレスは、サブネットに関連付けられているインターフェイスに割り当てられた IP アドレスです。 リモート ルートの場合は、1 つまたは複数のルーターを通じて利用できる、ゲートウェイ アドレスは近隣ルーターに割り当てられた直接到達可能な IP アドレスです。 |
| 非対称 `<metric>` | 転送されるパケットの宛先アドレスに最も近いルーティング テーブルに複数のルートの中から選択するときに使用されるルートのコスト メトリック整数 (1 から 9999 まで) を指定します。 メトリックが最も低いルートが選択されます。 メトリックには、パス、パスの信頼性、パスのスループット、または管理プロパティの処理速度、ホップ数を反映できます。 |
| もし `<interface>` | 先に到達できるインターフェイスのインターフェイス インデックスを指定します。 インターフェイスとそれに対応するインターフェイス インデックスの一覧は、route print コマンドの表示を使用します。 10 進数または 16 進数の値は、インターフェイス インデックスを使用することができます。 16 進値は、0 x で 16 進数より優先されます。 ときに、ゲートウェイのアドレスからインターフェイスを決定するパラメーターを省略するとします。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

#### <a name="remarks"></a>解説

- 大きな値で、 **メトリック** ルーティング テーブルの列は、IP アドレス、サブネット マスク、および各 LAN インターフェイスのデフォルト ゲートウェイの構成に基づいたルーティング テーブル内のルートのメトリックを自動的に決定できるようにする結果。 既定では、有効になっている、インターフェイス メトリックの自動決定は、各インターフェイスの速度を決定し、最速のインターフェイス メトリックが最も低いルートが作成されるように、各インターフェイスのルートのメトリックを調整します。 大規模なメトリックを削除するには、各 LAN 接続の TCP/IP プロトコルの詳細プロパティから、インターフェイス メトリックの自動決定を無効にします。

- フォルダーに格納されているローカル*ネットワーク*ファイルに適切なエントリが存在する場合、*宛先*には名前を使用でき `systemroot\System32\Drivers\\` ます。 名前を *ゲートウェイ* に使用できるのは、ドメインネームシステム (DNS) クエリ、フォルダーに格納されているローカルホストファイルの使用、NetBIOS 名解決などの標準的なホスト名解決方法を使用して、IP アドレスに解決できる限り `systemroot\system32\drivers\\` です。

- コマンドが **print** または **delete**の場合は、 *ゲートウェイ* パラメーターを省略でき、宛先とゲートウェイにはワイルドカードを使用できます。 *ターゲット*値には、アスタリスクで指定したワイルドカード値を指定でき `(*)` ます。 指定された宛先にアスタリスクまたは疑問符 (?) が含まれている場合は `(*)` 、ワイルドカードとして扱われ、一致する送信先のルートのみが印刷または削除されます。 任意の文字列をアスタリスクと疑問符 () には、任意の 1 文字が一致するものです。 たとえば、、 `10.\*.1, 192.168.\*` 、 `127.\*` および `\*224\*` は、アスタリスクのワイルドカードの有効な用途です。

- サポートされていない宛先とサブネットマスク (ネットマスク) の値の組み合わせを使用すると、"ルート: 無効なゲートウェイアドレスネットマスク" エラーメッセージが表示されます。 このエラー メッセージでは、先には、いずれかが含まれているかより多くのビットが 1 に対応するサブネット マスクのビットが 0 に設定されているビットの位置に設定と表示されます。 この条件をテストするには、express のバイナリ表記を使用して、宛先とサブネット マスクをします。 2 進表記のサブネット マスクは、一連の送信先のネットワーク アドレス部分と変換先のホストのアドレス部分を表すビットが 0 の系列を表す 1 のビットで構成されます。 ビットが宛先ホストのアドレス (サブネット マスクによって定義される) と、変換先の部分では 1 に設定されているがあるかどうかを確認します。

## <a name="examples"></a>例

IP ルーティング テーブルの内容全体を表示するには、次のように入力します。

```
route print
```

表示するには、ルートが 10 で始まる IP ルーティング テーブルに次のように入力します。

```
route print 10.*
```

192.168.12.1 のデフォルト ゲートウェイ アドレスを持つ既定のルートを追加するには、次のように入力します。

```
route add 0.0.0.0 mask 0.0.0.0 192.168.12.1
```

サブネット マスク 255.255.0.0 と 10.27.0.1 の次ホップ アドレス 10.41.0.0 にルートを追加するには、次のように入力します。

```
route add 10.41.0.0 mask 255.255.0.0 10.27.0.1
```

サブネット マスク 255.255.0.0 と 10.27.0.1 の次ホップ アドレス 10.41.0.0 に固定のルートを追加するに次のように入力します。

```
route /p add 10.41.0.0 mask 255.255.0.0 10.27.0.1
```

サブネット マスク 255.255.0.0、10.27.0.1 を持ちの次ホップ アドレスと、7 のコスト メトリック 10.41.0.0 にルートを追加するには、次のように入力します。

```
route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 metric 7
```

サブネット マスク 255.255.0.0 を持つ 10.41.0.0 にルートを追加するには、10.27.0.1、0x3 インターフェイス インデックスを使用すると次ホップ アドレスを入力します。

```
route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 if 0x3
```

サブネット マスク 255.255.0.0 を持つ 10.41.0.0 へのルートを削除するには、次のように入力します。

```
route delete 10.41.0.0 mask 255.255.0.0
```

ルートをすべて、IP ルーティング テーブルを開始すると 10 を削除するには、次のように入力します。

```
route delete 10.*
```

10.41.0.0 の宛先とサブネット マスク 255.255.0.0 ルートの次ホップ アドレスを 10.27.0.1 から 10.27.0.25 を変更するには、次のように入力します。

```
route change 10.41.0.0 mask 255.255.0.0 10.27.0.25
```

## <a name="additional-references"></a>その他の参照情報

- [コマンド ライン構文の記号](command-line-syntax-key.md)
