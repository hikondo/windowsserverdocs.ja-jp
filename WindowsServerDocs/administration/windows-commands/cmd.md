---
title: cmd
description: コマンドインタープリターの新しいインスタンスを開始する cmd コマンドの参照記事 Cmd.exe。
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 6ec588db-31a9-4a73-a970-65a2c6f4abbe
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 69176c69434813745f6039b607f2992675df879c
ms.sourcegitcommit: 2afed2461574a3f53f84fc9ec28d86df3b335685
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/02/2020
ms.locfileid: "85929864"
---
# <a name="cmd"></a>cmd

コマンドインタープリターの新しいインスタンス Cmd.exe を開始します。 パラメーターを指定せずに使用した場合、オペレーティングシステムのバージョンおよび著作権情報**が表示さ**れます。

## <a name="syntax"></a>構文

```
cmd [/c|/k] [/s] [/q] [/d] [/a|/u] [/t:{<b><f> | <f>}] [/e:{on | off}] [/f:{on | off}] [/v:{on | off}] [<string>]
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
| --------- | ----------- |
| /c | *文字列*で指定されたコマンドを実行してから停止します。 |
| /k | *文字列*で指定されたコマンドを実行し、続行します。 |
| /s | **/C**または **/k**の後の*文字列*の処理を変更します。 |
| /q | エコーをオフにします。 |
| /d | 自動実行コマンドの実行を無効にします。 |
| /a | 内部コマンドの出力をパイプまたはファイルに米国規格協会 (ANSI) (ANSI) として書式設定します。 |
| /U | 内部コマンドの出力を Unicode としてパイプまたはファイルに書式設定します。 |
| /t: {`<b><f>` | `<f>`} | 背景 (*b*) と前景 (*f*) の色を設定します。 |
| /e: オン | コマンド拡張機能を有効にします。 |
| /e: off | コマンドの拡張機能を無効にします。 |
| /f: オン | ファイル名とディレクトリ名の入力候補を有効にします。 |
| /f: オフ | ファイル名とディレクトリ名の入力候補を無効にします。 |
| /v: オン | 遅延環境変数の拡張を有効にします。 |
| /v: オフ | 遅延環境変数の拡張を無効にします。 |
| `<string>` | 実行するコマンドを指定します。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

次の表に、およびの値として使用できる有効な16進数の数字を示し `<b>` `<f>` ます。

| 値 | 色 |
| ----- | ----- |
| 0 | Black |
| 1 | 青 |
| 2 | [緑] |
| 3 | Aqua |
| 4 | 赤 |
| 5 | パープル |
| 6 | 黄 |
| 7 | White |
| 8 | グレー |
| 9 | 薄い青 |
| a | 明るい緑 |
| b | 水色 |
| c | 薄い赤 |
| d | 淡い紫 |
| e | 薄い黄色 |
| f | 明るい白 |

## <a name="remarks"></a>注釈

- に複数のコマンドを使用するには、コマンド区切り記号で区切り、それらを `<string>` **&&** 引用符で囲みます。 次に例を示します。

    ```
    "<command1>&&<command2>&&<command3>"
    ```

- **/C**または **/k**を指定すると、次の条件がすべて満たされている場合にのみ、 **cmd**プロセス、*文字列*の残りの部分、および引用符が保持されます。

    - **/S**も使用しません。

    - 1組の引用符だけを使用します。

    - 引用符内には特殊文字を使用しません (例:  & < >  () @ ^ |)。

    - 引用符で囲んだ1つ以上の空白文字を使用します。

    - 引用符で囲まれた*文字列*は、実行可能ファイルの名前です。

    前の条件が満たされていない場合、*文字列*は最初の文字を調べて開始引用符であるかどうかを確認することによって処理されます。 最初の文字が開始引用符の場合は、終わりの引用符と共に削除されます。 終わりの引用符の後に続くテキストはすべて保持されます。

- *文字列*に **/d**を指定しない場合、Cmd.exe は次のレジストリサブキーを検索します。

    - **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\AutoRun\ REG_SZ**

    - **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\AutoRun\ REG_EXPAND_SZ**

    一方または両方のレジストリサブキーが存在する場合は、他のすべての変数の前に実行されます。

    > [!CAUTION]
    > レジストリを正しく編集しないと、システムが正常に動作しなくなる場合があります。 レジストリを変更する前に、コンピューター上の重要なデータのバックアップを作成する必要があります。

- **/E: off**を使用して、特定のプロセスのコマンド拡張機能を無効にすることができます。 次の**REG_DWORD**値を設定することにより、コンピューターまたはユーザーセッションのすべての**cmd**コマンドラインオプションに対する拡張機能を有効または無効にできます。

    - **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\EnableExtensions\ REG_DWORD**

    - **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\EnableExtensions\ REG_DWORD**

    Regedit.exe を使用して、レジストリで**REG_DWORD**値を**0 × 1** (有効) または**0 × 0** (無効) のいずれかに設定します。 ユーザー指定の設定はコンピューターの設定よりも優先され、コマンドラインオプションはレジストリ設定よりも優先されます。

    > [!CAUTION]
    > レジストリを正しく編集しないと、システムが正常に動作しなくなる場合があります。 レジストリを変更する前に、コンピューター上の重要なデータのバックアップを作成する必要があります。

    コマンド拡張機能を有効にすると、次のコマンドが影響を受けます。
    - **assoc**

    - **call**

    - **chdir (cd)**

    - **color**

    - **del (消去)**

    - **endlocal**

    - **for**

    - **ftype**

    - **goto**

    - **if**

    - **mkdir (md)**

    - **popd**

    - **prompt**

    - **pushd**

    - **set**

    - **setlocal**

    - **shift**

    - **start** (外部コマンドプロセスの変更も含む)

- 遅延環境変数の展開を有効にした場合、感嘆符文字を使用して、実行時に環境変数の値を置き換えることができます。

- ファイル名とディレクトリ名の入力候補は、既定では有効になっていません。 **/F:**{**on**off} を使用して、 **cmd**コマンドの特定のプロセスに対して、ファイル名の入力候補を有効または無効にすることができ  |  **off**ます。 次の**REG_DWORD**値を設定することにより、コンピューターまたはユーザーのログオンセッションで、 **cmd**コマンドのすべてのプロセスのファイル名とディレクトリ名の入力候補を有効または無効にすることができます。

    - **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\ REG_DWORD**

    - **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\ path Char\ REG_DWORD**

    - **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\ REG_DWORD**

    - **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\ path Char\ REG_DWORD**

    **REG_DWORD**値を設定するには、Regedit.exe を実行し、特定の関数に対して制御文字の16進数値を使用します (たとえば、 **0 × 9**は TAB、 **0 × 08**は BACKSPACE です)。 ユーザー指定の設定はコンピューターの設定よりも優先され、コマンドラインオプションはレジストリ設定よりも優先されます。

    > [!CAUTION]
    > レジストリを正しく編集しないと、システムが正常に動作しなくなる場合があります。 レジストリを変更する前に、コンピューター上の重要なデータのバックアップを作成する必要があります。

- **/F: on**を使用してファイル名とディレクトリ名の入力候補を有効にした場合は、ディレクトリ名の入力候補として**Ctrl + D キー**を使用し、ファイル名の入力を完了するには**ctrl + f キー**を使用します。 レジストリ内の特定の完了文字を無効にするには、有効な制御文字ではないため、空白の値 [**0 × 20**] を使用します。

  - **Ctrl + D**キーまたは**ctrl + F**キーを押すと、ファイル名とディレクトリ名の入力候補が処理されます。 これらのキーの組み合わせ関数は、ワイルドカード文字を*文字列*に追加し (存在しない場合)、一致するパスのリストを作成して、最初に一致したパスを表示します。<p>パスが一致しない場合、file および directory name completion 関数はビープ音を鳴らし、表示を変更しません。 一致するパスの一覧を移動するには、 **ctrl + D**キーまたは**ctrl + F**キーを繰り返し押します。 リストを後方に移動するには、 **SHIFT**キーを押しながら、 **ctrl + D**キーまたは**ctrl + F**キーを同時に押します。 一致するパスの保存済みリストを破棄して新しいリストを生成するには、*文字列*を編集し、 **ctrl + D**キーまたは**ctrl + F**キーを押します。 **Ctrl + D**キーと**ctrl + F**キーを切り替えると、一致したパスの保存された一覧が破棄され、新しいリストが生成されます。 Ctrl + **d**キーと**ctrl + f**キーの組み合わせの唯一の違いは、ctrl **+ d**キーはディレクトリ名のみと一致し、 **ctrl + f**はファイル名とディレクトリ名の両方に一致するという点です。 組み込みのディレクトリコマンド ( **CD**、 **MD**、または**RD**) でファイル名とディレクトリ名の入力候補を使用すると、ディレクトリの補完が想定されます。

  - ファイル名とディレクトリ名の入力候補では、一致するパスを引用符で囲むと、空白や特殊文字を含むファイル名が正しく処理されます。

  - 次の特殊文字を引用符で囲む必要があります:  & < >  [] {} ^ =;! ' + ' ~ [空白]。

  - 入力した情報にスペースが含まれている場合は、テキストを引用符で囲む必要があります (例、"コンピューター名")。

  - ファイル名とディレクトリ名の入力候補を*文字列*内から処理する場合は、カーソルの右側にある*パス*の任意の部分が破棄されます (入力候補が処理された位置の*文字列*内)。

## <a name="additional-references"></a>その他の参照情報

- [コマンド ライン構文の記号](command-line-syntax-key.md)
