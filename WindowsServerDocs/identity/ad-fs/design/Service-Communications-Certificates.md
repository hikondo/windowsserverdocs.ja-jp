---
ms.assetid: 95e82190-68c5-4e40-87b1-f1bd816ef4e9
title: サービス通信証明書
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adfs
ms.openlocfilehash: 91ef716f518676fe9cf42b2136afcbcd42c50946
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/08/2020
ms.locfileid: "80858525"
---
# <a name="service-communications-certificates"></a>サービス通信証明書

フェデレーションサーバーでは、WCF メッセージセキュリティを使用するシナリオにサービス通信証明書を使用する必要があります。  
  
## <a name="service-communication-certificate-requirements"></a>サービス通信証明書の要件  
AD FS を操作するには、サービス通信証明書が次の要件を満たしている必要があります。  
  
-   サービス通信証明書には、サーバー認証の拡張キー使用法 \(EKU\) 拡張機能が含まれている必要があります。  
  
-   証明書失効リストには、サービス通信証明書からルート CA 証明書へのチェーン内のすべての証明書に対して、\(Crl\) アクセスできる必要があります。 また、ルート CA は、フェデレーションサーバープロキシと、このフェデレーションサーバーを信頼する Web サーバーによって信頼されている必要があります。  
  
-   サービス通信証明書で使用されるサブジェクト名は、フェデレーションサービスのプロパティのフェデレーションサービス名と一致している必要があります。  
  
## <a name="deployment-considerations-for-service-communication-certificates"></a>サービス通信証明書の展開に関する考慮事項  
すべてのフェデレーションサーバーが同じ証明書を使用するように、サービス通信証明書を構成します。 \(SSO\) 設計でフェデレーション Web シングル\-署名\-をデプロイする場合は、サービス通信証明書をパブリック CA によって発行することをお勧めします。 これらの証明書を要求してインストールするには、の IIS マネージャースナップ\-を使用します。  
  
テストラボ環境のフェデレーションサーバーでは、自己\-署名されたサービス通信証明書を正常に使用できます。 ただし、運用環境では、パブリック CA からサービス通信証明書を取得することをお勧めします。 自己\-署名されたサービス通信証明書をライブデプロイに使用しない理由は次のとおりです。  
  
-   自己\-署名された SSL 証明書を、リソースパートナー組織の各フェデレーションサーバーの信頼されたルートストアに追加する必要があります。 これだけでは、攻撃者がリソースフェデレーションサーバーを危険にさらすことを防ぐことはできませんが、自己\-署名入り証明書を信頼すると、コンピューターの攻撃対象領域が増え、証明書署名者が信頼できない場合にセキュリティの脆弱性が発生する可能性があります。  
  
-   不適切なユーザーエクスペリエンスが作成されます。 クライアントは、"信頼されていない会社によって発行されたセキュリティ証明書" というメッセージを表示するフェデレーションリソースにアクセスしようとすると、セキュリティ警告プロンプトを受け取ります。 自己\-署名入り証明書は信頼されていないため、これは予期される動作です。  
  
    > [!NOTE]  
    > 必要に応じて、グループポリシーを使用して、AD FS サイトへのアクセスを試みる各クライアントコンピューターの信頼されたルートストアに自己\-署名入り証明書を手動でプッシュダウンすることで、この状態を回避できます。  
  
-   Ca は、自己\-署名された証明書によって提供されない秘密キーのアーカイブ、更新、失効など、証明書\-ベースの追加機能を提供します。  
  

