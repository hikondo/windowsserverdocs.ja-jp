---
title: リモート デスクトップ サービス コレクションを作成する
description: RDS の展開に、RDSH および RemoteApp プログラムを追加する方法について説明します。
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: remote-desktop-services
ms.author: elizapo
ms.date: 11/08/2016
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: ae9767e3-864a-4eb2-96c0-626759ce6d60
author: lizap
manager: dongill
ms.openlocfilehash: 87de04e3ca34217fbbc3ec451dc061ee228a1a60
ms.sourcegitcommit: 3743cf691a984e1d140a04d50924a3a0a19c3e5c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/17/2019
ms.locfileid: "63743828"
---
# <a name="create-a-remote-desktop-services-collection-for-desktops-and-apps-to-run"></a>デスクトップとアプリを実行するためのリモート デスクトップ サービス コレクションを作成する

>適用対象:Windows Server (半期チャネル)、Windows Server 2019、Windows Server 2016

次の手順を使用して、リモート デスクトップ サービス セッションのコレクションを作成します。 セッション コレクションには、ユーザー向けに利用可能にするアプリとデスクトップを保持します。 コレクションを作成した後は、ユーザーがアクセスできるように公開します。

コレクションを作成する前に、必要な種類のコレクション (プールされたデスクトップ セッションまたは個人用デスクトップ セッション) を決める必要があります。 

- **セッション ベースの仮想化に対して、プールされたデスクトップ セッションを使用する**:Windows Server のコンピューティング能力を活用してコスト効率に優れたマルチ セッション環境を提供し、ユーザーの日常業務を効率化します。
- **仮想デスクトップ インフラストラクチャ (VDI) を作成するために、個人用デスクトップ セッションを使用する**:Windows クライアントを活用し、高パフォーマンス、アプリの互換性、およびユーザーが Windows デスクトップ エクスペリエンスに期待する操作性を提供します。
 
プールされたセッションの場合、複数のユーザーがリソースの共有プールにアクセスします。一方、個人用デスクトップ セッションの場合、プール内から固有のデスクトップにユーザーが割り当てられます。 プールされたセッションでは総コストが低くなり、個人用セッションではユーザーによるデスクトップ エクスペリエンスのカスタマイズを可能にします。

グラフィックス集中型のホステッド アプリケーションを共有する必要がある場合、グラフィック アクセラレータ用に構成された RemoteFX vGPU と個人用セッションのデスクトップを組み合わせることができます。 または、個人用セッション デスクトップと新しい個別のデバイス割り当て (DDA) 機能を組み合わせて、アクセラレータに対応したグラフィックスを必要とするホステッド アプリケーションのサポートを提供することもできます。 詳しくは、「[Which graphics virtualization technology is right for you? (どのグラフィックス仮想化技術が適切か)](rds-graphics-virtualization.md)」をご覧ください。


選択するコレクションの種類に関係なく、RemoteApps を利用して該当のコレクション (サポートされる任意のデバイスからユーザーがアクセスでき、プログラムがローカルで実行されている場合でも有効なプログラムとリソース) を指定します。

## <a name="create-a-pooled-desktop-session-collection"></a>プールされたデスクトップ セッション コレクションを作成する

1.  サーバー マネージャーで、 **[リモート デスクトップ サービス] > [コレクション] > [タスク] > [セッション コレクションの作成]** の順にクリックします。  
2.  コレクションの名前 (たとえば、**ContosoAps**) を入力します。  
3.  作成した RD セッション ホスト サーバー (たとえば、Contoso-Shr1) を選択します。  
4.  既定の **[ユーザー グループ]** を受け入れます。  
5.  このコレクションに対するユーザー プロファイル ディスク用に作成したファイル共有の場所 (たとえば、 **\Contoso-Cb1\UserDisksr**) を入力します。   
6.  **[作成]** をクリックします。 コレクションが作成されたら、 **[閉じる]** をクリックします。  


## <a name="create-a-personal-desktop-session-collection"></a>個人用デスクトップ セッション コレクションを作成する

個人用セッション デスクトップ コレクションを作成するには、New-RDSessionCollection コマンドレットを使用します。 次の 3 つのパラメーターは、個人用セッション デスクトップに必要な構成情報を提供します。

- **-PersonalUnmanaged** - 個人用セッション ホスト サーバーにユーザーを割り当てられようにするセッション コレクションの種類を指定します。 このパラメーターを指定しない場合、コレクションは従来の RD セッション ホスト コレクションとして作成されます。ユーザーは、サインインしたときに、次に使用可能なセッション ホストに割り当てられます。
- **-GrantAdministrativePrivilege** - **-PersonalUnmanaged** を使用する場合、セッション ホストに割り当てられているユーザーに管理者特権を与えられることを指定します。 このパラメーターを使用しない場合、ユーザーには、標準のユーザー特権のみが付与されます。
- **-AutoAssignUser** - **-PersonalUnmanaged** を使用する場合、RD 接続ブローカーを通じて接続する新しいユーザーが、割り当てられていないセッション ホストに自動的に割り当てられることを指定します。 割り当てられていないセッション ホストがコレクションにない場合は、エラー メッセージが表示されます。 このパラメーターを使用しない場合は、サインインする前に、[ユーザーをセッション ホストに手動で割り当てる](rds-manage-personal-collection.md#manually-assign-a-user-to-a-personal-session-host)必要があります。

PowerShell コマンドレットを使用して、個人用デスクトップ セッション コレクションを管理できます。 詳しくは、「[個人用デスクトップ セッション コレクションを管理する](rds-manage-personal-collection.md)」をご覧ください。

## <a name="publish-remoteapp-programs"></a>RemoteApp プログラムを公開する
次の手順を使用して、コレクション内にアプリとリソースを公開します。

1.  サーバー マネージャーで、新しいコレクション (**ContosoApps**) を選択します。  
2.  [RemoteApp プログラム] 下にある **[RemoteApp プログラムの公開]** をクリックします。  
3. 公開するプログラムを選択して、 **[公開]** をクリックします。  
