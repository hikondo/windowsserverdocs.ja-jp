---
title: 機能について
description: このトピックでは、System Insights の機能の概念を定義し、Windows Server 2019 で使用できる既定の機能について説明します。
ms.prod: windows-server
ms.technology: system-insights
ms.topic: article
author: gawatu
ms.author: gawatu
manager: mallikarjun.chadalapaka
ms.date: 6/05/2018
ms.openlocfilehash: c6738e6e914d97c70aa31af2fe3b6987b0b9ea33
ms.sourcegitcommit: 771db070a3a924c8265944e21bf9bd85350dd93c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2020
ms.locfileid: "85471747"
---
# <a name="understanding-capabilities"></a>機能について

>適用先:Windows Server 2019

このトピックでは、System Insights の機能の概念を定義し、Windows Server 2019 で使用できる既定の機能について説明します。

このトピックでは、既定の機能で使用されるデータソース、予測タイムライン、および予測の状態についても説明します。

## <a name="capability-overview"></a>機能の概要
System Insights の機能は、システムデータを分析する機械学習または統計モデルです。これにより、デプロイの機能についての洞察を得ることができます。 System Insights には既定の機能の初期セットが導入されており、オペレーティングシステムを更新しなくても、新しい機能を動的に追加することができます。

>[!NOTE]
>機能の作成、追加、および更新の方法を説明する詳細なドキュメントについては、[こちら](adding-and-developing-capabilities.md)を参照してください。[管理機能のドキュメント](managing-capabilities.md)には、この機能に関する詳細な情報が記載されています。

さらに、各機能を Windows Server インスタンスでローカルに実行し、各機能を個別に管理できます。

### <a name="capability-outputs"></a>機能の出力
機能が呼び出されると、分析または予測の結果を説明するための出力が提供されます。 各出力には、予測を説明するための**状態**と**状態の説明**が含まれている必要があります。また、各結果には、予測に関連付けられた機能固有のデータを含めることができます。 **状態の説明**には、**状態**のコンテキストの説明が表示されます。この機能は、 **[OK]、[****警告**]、または [**重大**] のいずれかの状態を報告します。 また、予測が行われなかった場合は、**エラー**を使用することも、状態を使用することも**できません**。 次に、機能の状態とその基本的な意味を示します。

- **Ok** -すべて問題ありません。
- **警告**-早急に対処する必要はありませんが、確認する必要があります。
- **重要**-すぐに見てみましょう。
- **エラー** -不明な問題が発生したため、機能が失敗しました。
- **None** -予測は行われませんでした。 これは、データが不足しているか、予測を作成しないためのその他の機能固有の理由が原因の可能性があります。

さらに、結果に含まれる機能固有のデータは、ユーザーがアクセスできる JSON ファイルに配置され、 [PowerShell を使用してファイルパスを見つけることができ](https://docs.microsoft.com/windows-server/manage/system-insights/managing-capabilities#retrieving-capability-results)ます。

## <a name="default-capabilities"></a>既定の機能
Windows Server 2019 では、容量の予測に重点を置いた4つの既定の機能が System Insights に導入されています。

- **Cpu 容量予測**-cpu 使用率を予測します。
- ネットワーク**容量予測**-各ネットワークアダプターのネットワーク使用率を予測します。
- **合計ストレージ消費量予測**-すべてのローカルドライブにおける合計ストレージ使用量。
- **ボリューム消費予測**-各ボリュームのストレージ使用量を予測します。

各機能は過去の履歴データを分析して将来の使用量を予測します。また、**予測機能はすべて、短期の動作ではなく長期的な傾向を予測するように設計され**ています。これにより、管理者は、将来のリソース競合を回避するためにハードウェアを正しくプロビジョニングし、ワークロードを調整できます これらの機能は長期的な使用に重点を置いているため、毎日のデータを分析します。

### <a name="forecasting-model"></a>予測モデル
既定の機能では予測モデルを使用して将来の使用量を予測し、各予測について、モデルはコンピューターのデータでローカルにトレーニングされます。 このモデルは、長期的な傾向を検出するのに役立つように設計されています。また、Windows Server の各インスタンスを再トレーニングすることで、各コンピューターの使用に関する特定の動作と微妙な差異に適応することができます。

>[!NOTE]
>使用するモデルの種類を決定するには、数十のコンピューターを含むデータセットを使用して、多数のモデルをテストする必要があります。 これらのモデルを分析して調整した後、自動回帰予測モデルを使用することにしました。これは、トレーニングに時間がかかりすぎるという、非常に正確で視覚的に直感的な予測を生成するためです。 ただし、このモデルでは3週間のトレーニングデータが必要であるため、3週間のデータが使用可能になるまで、各機能で基本的な線形傾向が使用されます。

### <a name="forecasting-timelines"></a>タイムラインの予測
既定の機能は、データが収集された日数に基づいて、特定の日数を将来に予測します。 次の表は、これらの機能の予測タイムラインを示しています。

| 入力データのサイズ | 予測の長さ |
| --------------- | --------------- |
| 0-5 日 | 予測は行われません。 |
| 6-180 日 | 1/3 * 入力データのサイズ |
| 180-365 日 | 60日 |

### <a name="forecasting-data"></a>データの予測
各機能は、毎日のデータを分析して将来の使用状況を予測します。 ただし、CPU、ネットワーク、および記憶域の使用率は、1日を通して頻繁に変更され、コンピューター上のワークロードに動的に調整されることがあります。 使用量が1日にわたって一定ではないため、1つのデータポイントで毎日の使用状況を適切に表すことが重要です。 次の表では、特定のデータポイントとデータの処理方法について詳しく説明します。


| 機能名 | データソース | フィルター処理ロジック |
| --------------- | -------------- | ---------------- |
 ボリューム消費予測          | ボリューム サイズ                    | 毎日の最大使用量
 ストレージ使用量の予測の合計   | ボリュームサイズの合計、ディスクサイズの合計              | 毎日の最大使用量
 CPU 容量の予測                | % Processor Time  | 1日あたり最大2時間の平均
 ネットワーク容量の予測         | Bytes Total/sec         | 1日あたり最大2時間の平均

上記のフィルターロジックを評価する際には、将来の使用率が使用可能な容量を超えた場合に、各機能が管理者に通知することが重要です。これは、CPU の使用率が瞬間的に100% に達した場合でも、パフォーマンスの低下やリソースの競合が発生していない可能性があります。 CPU とネットワークについては、瞬間的なスパイクではなく、高い使用率を維持する必要があります。 ただし、CPU とネットワークの使用率を1日に平均すると、重要なワークロードのパフォーマンスに大きな影響を与える可能性があるため、重要な使用状況に関する情報が失われる可能性があります。 1日ごとの最大2時間の平均によってこれらの極端な値が回避されるため、分析する機能ごとに意味のあるデータが生成されます。

ただし、ボリュームと記憶域の合計使用量については、ストレージの使用量が一時的に使用可能な容量を超えることはできないため、これらの機能には毎日の最大使用量が使用されます。

### <a name="forecasting-statuses"></a>予測の状態
すべての System Insights 機能は、各予測に関連付けられた状態を出力する必要があります。 各既定の機能では、次のロジックを使用して、各予測の状態を定義します。
- **OK**: 予測が使用可能な容量を超えていません。
- **警告**: 予測が、次の30日以内に使用可能な容量を超えています。
- **重大**: 予測が、次の7日間に使用可能な容量を超えています。
- **エラー**: この機能は予期しないエラーが発生しました。
- **None**: 予測を行うのに十分なデータがありません。 データが不足しているか、最近データが報告されていないことが原因の可能性があります。

>[!NOTE]
>複数のインスタンス (複数のボリュームやネットワークアダプターなど) に対する機能予測の場合、状態はすべてのインスタンスで最も重大な状態を反映します。 各ボリュームまたはネットワークアダプターの個別の状態は、Windows 管理センターまたは各機能の出力に含まれるデータ内に表示されます。 既定の機能の JSON 出力を解析する方法については、こちらの[ブログ](https://aka.ms/systeminsights-mitigationscripts)を参照してください。


## <a name="additional-references"></a>その他のリファレンス
System Insights の詳細については、次のリソースを参照してください。

- [システム インサイトの概要](overview.md)
- [管理機能](managing-capabilities.md)
- [機能の追加と開発](adding-and-developing-capabilities.md)
- [System Insights の FAQ](faq.md)
